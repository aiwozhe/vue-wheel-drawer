(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2284ee70"],{5447:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comp-wheel-drawer"},[a("div",{staticClass:"wheel-container",style:[t.rotateStyle]},[t.bgImg?a("div",{staticClass:"wheel-bg",style:[t.bgStyle]}):t._e(),a("canvas",{ref:"canvasRef",attrs:{id:"canvasWheel",width:t.cw,height:t.ch}})]),a("div",{staticClass:"pointer-container",on:{click:t._startClick}},[t._t("default",[a("div",{staticClass:"pointer-main pointer-main-interaction1"},[t._v("指针")])])],2)])},r=[],n={name:"wheelDrawer",props:{prizeList:{type:Array,required:!0,default:()=>[{name:"一等奖",id:234,bgColor:"#fff"},{name:"er等奖",id:334,bgColor:"pink"},{name:"san等奖",id:434},{name:"shi等奖",id:534}]},diam:{type:Number,default:()=>478},bgImg:{type:String,default:""},bgDeg:{type:Number,default:0},fontColor:{type:String,default:()=>"#FF69B4"},fontStyle:{type:String,default:""},fontWeight:{type:String,default:()=>"bold"},fontSize:{type:String,default:()=>"17px"},fontFamily:{type:String,default:()=>"Microsoft Yahei,Helvetica Neue,Tahoma,Arial,PingFangSC-Regular,Hiragino Sans GB,sans-serif"},fontLineWidth:{type:Number,default:()=>100},sectorPadding:{type:Number,default:()=>65},fontGap:{type:Number,default:()=>20},rounds:{type:Number,default:10},duration:{type:Number,default:5},timingFn:{type:String,default:()=>"cubic-bezier(0.11, 0.77, 0.2, 0.94)"}},data(){return{preIndex:-1,targetDeg:0,isRotating:!1}},computed:{rotateStyle(){return{transform:`rotate(${this.targetDeg}deg)`,"transition-duration":`${this.duration}s`,"transition-timing-function":`${this.timingFn}`,"transition-property":"transform","transition-delay":"0s"}},bgStyle(){return{"background-image":`url(${this.bgImg})`,transform:`rotate(${this.bgDeg}deg)`}},customFontStyle(){return`${this.fontWeight} ${this.fontSize} ${this.fontFamily}`},cw(){return this.diam},ch(){return this.diam}},mounted(){this.renderWheel()},methods:{_startClick(t){this.$emit("pointerClick",t)},go(t){if(this.isRotating)return;this.isRotating=!0;let e=360/this.prizeList.length,a=t*e+e/2,i=0;i=-1===this.preIndex?270-a:360-(t-this.preIndex)*e,this.targetDeg+=i+360*this.rounds,this.preIndex=t,setTimeout(()=>{this.isRotating=!1,this.$emit("rotateOver")},1e3*this.duration+500)},renderWheel(){let t=()=>{var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return`rgb(${t}, ${e}, ${a})`};function e(t,e,a){let i=e.split(""),r="",n=[];for(let p=0;p<i.length;p++)t.measureText(r).width>=a&&(n.push(r),a-=t.measureText(e[0]).width,r=""),r+=i[p];return n.push(r),n}const a=this.prizeList.length;let i=this.$refs.canvasRef,r=i.getContext("2d"),n=this.cw/2,p=this.ch/2,o=n>p?p:n;var s=2*Math.PI/a;for(let x=0;x<a;x++){const a=this.prizeList[x];let i=x*s,d=(x+1)*s;r.beginPath(),r.moveTo(n,p),r.arc(n,p,o,i,d),r.closePath(),r.fillStyle=this.bgImg?"rgba(255, 255, 255, 0)":a.bgColor||t(),r.fill(),r.save();let l=a.name;r.fillStyle=this.fontColor,r.font=this.fontStyle||this.customFontStyle,r.translate(n+Math.cos(i+s/2)*o,p+Math.sin(i+s/2)*o),r.rotate(i+s/2+Math.PI/2),e(r,l,this.fontLineWidth).forEach((t,e)=>{r.fillText(t,-r.measureText(t).width/2,e*this.fontGap+this.sectorPadding)}),r.restore()}}}},p=n,o=(a("80ea"),a("4e82")),s=Object(o["a"])(p,i,r,!1,null,"a46cae8a",null);e["default"]=s.exports},"80ea":function(t,e,a){"use strict";var i=a("b241"),r=a.n(i);r.a},b241:function(t,e,a){var i=a("fadc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("85cb").default;r("41aa6ba8",i,!0,{sourceMap:!1,shadowMode:!1})},fadc:function(t,e,a){e=t.exports=a("ef74")(!1),e.push([t.i,'.comp-wheel-drawer[data-v-a46cae8a],.wheel-container[data-v-a46cae8a]{position:relative;display:inline-block}.wheel-container[data-v-a46cae8a]{border-radius:50%;overflow:hidden;pointer-events:none}.wheel-bg[data-v-a46cae8a]{position:absolute;width:100%;height:100%;border-radius:50%}#canvasWheel[data-v-a46cae8a],.wheel-bg[data-v-a46cae8a]{background-position:50%;background-size:cover;background-repeat:no-repeat}#canvasWheel[data-v-a46cae8a]{pointer-events:none;position:relative}.pointer-container[data-v-a46cae8a]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);cursor:pointer}.pointer-main[data-v-a46cae8a]{width:80px;height:80px;line-height:80px;text-align:center;color:#fff;background:#00ddeb;border-radius:50%;position:relative}.pointer-main[data-v-a46cae8a]:before{content:"";display:block;width:0;height:0;border-right:30px solid transparent;border-left:30px solid transparent;border-bottom:30px solid #00ddeb;position:absolute;top:-38%;left:50%;-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%);z-index:-1}.pointer-main-interaction1[data-v-a46cae8a]{-webkit-box-shadow:0 5px #028d96;box-shadow:0 5px #028d96;-webkit-transition:all .2s ease;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:0}.pointer-main-interaction1[data-v-a46cae8a]:hover{-webkit-box-shadow:0 4px #006066;box-shadow:0 4px #006066}.pointer-main-interaction1[data-v-a46cae8a]:active{top:4px;-webkit-box-shadow:0 0 #d3545d;box-shadow:0 0 #d3545d}.pointer-main-interaction2[data-v-a46cae8a]{background-color:#3bb3e0;background-image:-webkit-gradient(linear,left top,left bottom,from(#2ca0ca),to(#3eb8e5));background-image:linear-gradient(180deg,#2ca0ca 0,#3eb8e5);-webkit-box-shadow:inset 0 1px 0 #7fd2f1,0 1px 0 #fff;box-shadow:inset 0 1px 0 #7fd2f1,0 1px 0 #fff;padding:10px;top:0}.pointer-main-interaction2[data-v-a46cae8a]:active{padding-bottom:9px;padding-left:10px;padding-right:10px;padding-top:11px;top:1px;background-image:-webkit-gradient(linear,left top,left bottom,from(#3eb8e5),to(#2ca0ca));background-image:linear-gradient(180deg,#3eb8e5 0,#2ca0ca)}.pointer-main-interaction3[data-v-a46cae8a]{overflow:hidden;font-weight:700;color:#fff;background:#444;-webkit-box-shadow:inset 0 0 2px 2px rgba(0,0,0,.2),inset 0 0 2px 4px rgba(0,0,0,.2),inset 0 0 2px 6px rgba(0,0,0,.2),inset 0 0 1px 8px rgba(0,0,0,.5),inset 0 -4px 2px 4px rgba(0,0,0,.5),inset 0 1px 1px 8px hsla(0,0%,100%,.25),inset 0 -30px 30px rgba(0,0,0,.2),0 -4px 8px 4px rgba(0,0,0,.5),0 10px 10px rgba(0,0,0,.25),0 0 2px 2px rgba(0,0,0,.2),0 0 2px 4px rgba(0,0,0,.2),0 0 2px 6px rgba(0,0,0,.2),0 0 2px 8px rgba(0,0,0,.5),0 1px 2px 8px hsla(0,0%,100%,.25),0 -1px 2px 8px rgba(0,0,0,.5);box-shadow:inset 0 0 2px 2px rgba(0,0,0,.2),inset 0 0 2px 4px rgba(0,0,0,.2),inset 0 0 2px 6px rgba(0,0,0,.2),inset 0 0 1px 8px rgba(0,0,0,.5),inset 0 -4px 2px 4px rgba(0,0,0,.5),inset 0 1px 1px 8px hsla(0,0%,100%,.25),inset 0 -30px 30px rgba(0,0,0,.2),0 -4px 8px 4px rgba(0,0,0,.5),0 10px 10px rgba(0,0,0,.25),0 0 2px 2px rgba(0,0,0,.2),0 0 2px 4px rgba(0,0,0,.2),0 0 2px 6px rgba(0,0,0,.2),0 0 2px 8px rgba(0,0,0,.5),0 1px 2px 8px hsla(0,0%,100%,.25),0 -1px 2px 8px rgba(0,0,0,.5);text-shadow:0 1px 1px hsla(0,0%,100%,.25),0 -1px 1px rgba(0,0,0,.75)}.pointer-main-interaction3[data-v-a46cae8a]:hover{color:#0ab;text-shadow:0 0 20px rgba(143,143,239,.5),0 1px 1px hsla(0,0%,100%,.25),0 -1px 1px rgba(0,0,0,.75)}.pointer-main-interaction3[data-v-a46cae8a]:active{-webkit-box-shadow:inset 0 0 2px 2px rgba(0,0,0,.2),inset 0 0 2px 4px rgba(0,0,0,.2),inset 0 0 2px 6px rgba(0,0,0,.2),inset 0 0 1px 7px rgba(0,0,0,.5),inset 0 5px 15px 7px rgba(0,0,0,.15),inset 0 -4px 2px 3px rgba(0,0,0,.5),inset 0 1px 1px 7px hsla(0,0%,100%,.25),inset 0 -30px 30px rgba(0,0,0,.1),inset 0 30px 30px rgba(0,0,0,.2),0 -4px 8px 4px rgba(0,0,0,.5),0 5px 10px rgba(0,0,0,.25),0 0 2px 2px rgba(0,0,0,.2),0 0 2px 4px rgba(0,0,0,.2),0 0 2px 6px rgba(0,0,0,.2),0 0 2px 8px rgba(0,0,0,.5),0 1px 2px 8px hsla(0,0%,100%,.25),0 -1px 2px 8px rgba(0,0,0,.5);box-shadow:inset 0 0 2px 2px rgba(0,0,0,.2),inset 0 0 2px 4px rgba(0,0,0,.2),inset 0 0 2px 6px rgba(0,0,0,.2),inset 0 0 1px 7px rgba(0,0,0,.5),inset 0 5px 15px 7px rgba(0,0,0,.15),inset 0 -4px 2px 3px rgba(0,0,0,.5),inset 0 1px 1px 7px hsla(0,0%,100%,.25),inset 0 -30px 30px rgba(0,0,0,.1),inset 0 30px 30px rgba(0,0,0,.2),0 -4px 8px 4px rgba(0,0,0,.5),0 5px 10px rgba(0,0,0,.25),0 0 2px 2px rgba(0,0,0,.2),0 0 2px 4px rgba(0,0,0,.2),0 0 2px 6px rgba(0,0,0,.2),0 0 2px 8px rgba(0,0,0,.5),0 1px 2px 8px hsla(0,0%,100%,.25),0 -1px 2px 8px rgba(0,0,0,.5);line-height:86px}',""])}}]);
//# sourceMappingURL=chunk-2284ee70.169ae8f3.js.map